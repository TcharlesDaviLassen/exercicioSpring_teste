<!--suppress ALL -->
<!DOCTYPE html>
<html>
    <head th:replace="~{leiauteBase :: head}"></head>
    <title>Edit usuario</title>

    <body>

        <div class="container mt-4">
                <a th:href="@{/usuario/create}" th:method="get">
                    <button type="submit" class="btn btn-primary">Criar
                        <i class="fa fa-user" style="color: white"></i>
                    </button>
                </a>

            <h1>Selecionar Usuário</h1>
            <form th:action="@{/usuario/selecionarUsuario}" method="get">
                <label for="tipo">Selecione o tipo de usuário:</label>
                <select style="width: 10rem" id="tipo" name="tipo">
                    <option value=""></option>
                    <option th:each="state : ${T(com.example.exercicio.enumType.UsuarioEnumType).values()}"
                            th:value="${state.name()}"
                            th:selected="${tipo == T(com.example.exercicio.enumType.UsuarioEnumType)}"
                            th:text="${state.description}"
                    ></option>
                </select>
                <button class="btn btn-primary" type="submit">Selecionar</button>
            </form>

            <div th:if="${mensagemErro != null}" th:text="${mensagemErro}" class="error"></div>

            <table th:if="${usuarios != null}" border="1">
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Tipo</th>
                </tr>
                <tr th:each="usuario : ${usuarios}">
                    <td th:text="${usuario.id}"></td>
                    <td th:text="${usuario.nome}"></td>
                    <td th:text="${usuario.getUsuarioEnumTypeEnum()}"></td>
                </tr>
            </table>


            <table class="table table-striped table-bordered custom-table">
                <thead class="thead-dark custom-thead">
                <tr class="custom-thead">
                    <th>Nome</th>
                    <th>Número</th>
                    <th>Email</th>
                    <th>Data de criação do registro</th>
                    <th>Type enum</th>
                    <th>Ações</th>
                </tr>
                </thead>
                <tbody>
                    <tr class="custom-row" th:each="func : ${usuarioFlyway}">
                        <td th:text="${func.nome}"></td>
                        <td th:text="${func.numero}"></td>
                        <td th:text="${func.email}"></td>
                        <td th:text="${func.data}"></td>
                        <td th:text="${func.usuarioEnumTypeEnum}"></td>
                        <td class="buttons">
                            <a th:href="@{/usuario/edit/{id}(id=${func.id})}"
                               method="get"
                               class="btn btn-warning">
                                <i class="fa fa-pencil"></i>
                            </a>

                            <a
                               th:href="@{/usuario/delete/{id}(id=${func.id})}"
                               th:method="get"
                               class="btn btn-danger">
                                <i class="fa fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

            <!-- Inclua os arquivos JavaScript do Bootstrap (opcional) -->
            <!--        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js"></script>-->
    </body>
</html>
